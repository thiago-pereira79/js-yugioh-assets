/* ===== RESET ===== */
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
body{font-family:"Press Start 2P", monospace;color:#000;overflow:hidden}

/* ===== VARS ===== */
:root{
  --hand-h: clamp(96px, 16vh, 148px);
  --slot-w: clamp(86px, 12vh, 118px);
  --slot-h: calc(var(--slot-w) * 1.4);
  --versus-icon: clamp(40px, 6vh, 64px);
  --lane-gap: 12px;
}

/* ===== BACKGROUND VIDEO ===== */
.bg-video{
  position:absolute; z-index:-2; inset:0;
  width:100vw;height:100vh; overflow:hidden;
  display:flex;justify-content:center;
}
.bg-video .video{width:100vw;height:100vh;object-fit:cover}
.bg-video::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(90deg, rgba(0,0,0,1) 0%, rgba(0,0,0,.8) 50%, rgba(0,0,0,1) 100%);
}

/* ===== LAYOUT PRINCIPAL ===== */
.container{position:relative; z-index:3; display:flex; height:100vh}

/* Esquerda */
.container__left{
  width:35%; min-width:300px; height:100%;
  padding:8px;
  display:flex; flex-direction:column; align-items:center; justify-content:space-around;
  gap:12px; overflow:hidden;
}
.score_box{background:#fff; padding:14px 18px; border-radius:8px; text-align:center}
.frame{border:3px solid #000; border-radius:10px}
.card_details{
  background:#fff; padding:10px; width:100%;
  display:flex; flex-direction:column; gap:6px; border-radius:8px;
}
#card-name{font-size:.8rem}
#card-type{font-size:1rem}

/* Direita - grid */
.container__right{
  width:65%; height:100%;
  display:grid;
  grid-template-rows: var(--hand-h) 1fr var(--hand-h);
  gap: var(--lane-gap);
  padding:8px;
  overflow:hidden;
}
.card-box__container{height:100%; display:contents}

/* mão do PC */
#computer-cards{
  height:100%;
  display:flex; align-items:center; justify-content:center; gap:10px;
  overflow:hidden;
}

/* versus */
.card-versus__container{
  display:grid; grid-template-rows: 1fr auto; place-items:center;
  min-height:0; padding-block:6px;
}
.versus-top{
  display:flex; align-items:center; justify-content:center;
  gap: clamp(12px, 2vw, 24px);
  min-height:0;
}
.versus-bottom{ margin-top:6px }
#next-duel{ display:none }

.card-infield{
  width:var(--slot-w); height:var(--slot-h);
  border-radius:8px; background:rgba(0,0,0,.25);
  box-shadow:inset 0 0 0 2px rgba(255,255,255,.85);
  display:grid; place-items:center;
}
.card-infield img{max-width:100%; max-height:100%; object-fit:contain}
.versus-icon{ width:var(--versus-icon); height:auto }

/* mão do jogador */
#player-cards{
  height:100%;
  display:flex; align-items:center; justify-content:center; gap:12px;
  overflow:hidden;
}

/* cartas */
.card{
  width:var(--slot-w); height:var(--slot-h);
  border-radius:8px; background:#111; border:2px solid #daa520;
  display:grid; place-items:center; cursor:pointer;
  transition:transform .2s ease;
}
.card:hover{ transform: translateY(-3px) scale(1.04) }
.card img{ width:100%; height:100%; object-fit:cover; border-radius:6px }

/* ===== OVERLAY / AJUDA ===== */
.overlay{
  position:fixed; inset:0; z-index:50;
  background: rgba(0,0,0,.75);
  display:none; align-items:center; justify-content:center;
}
.overlay.show{ display:flex }
.modal{ width:min(560px,92vw); color:#fff; text-align:center }
.modal h2{
  margin:0 0 10px; color:gold; text-shadow:2px 2px #6b2400;
  font-size:clamp(18px,2.6vw,26px);
}
.modal .desc{ margin:6px 0 10px; line-height:1.4 }
.modal .rules{ list-style:none; margin:0 0 12px; padding:0 }
.modal .rules li{ margin:4px 0 }

/* botão de ajuda */
#btn-help{
  position:fixed; right:12px; top:12px; z-index:40;
  width:40px; height:40px; border:0; border-radius:8px;
  background:url("../assets/rpg/button-background.png"), #d6a216;
  background-size:cover;
  color:#000; cursor:pointer;
  box-shadow:0 0 0 2px #0006, 0 6px 16px #0008;
  font-family:"Press Start 2P", monospace;
}
#btn-help:hover{ transform:translateY(-1px) }

/* botão padrão */
.rpgui-button{
  border-radius:8px; padding:10px 20px;
  background:#cfa93f; border:3px solid #000; color:#000;
  font-family:"Press Start 2P", monospace; cursor:pointer; transition:.2s;
}
.rpgui-button:hover{ background:#e5c65a; transform:scale(1.03) }

/* responsivo */
@media (max-width:980px){
  .container{ flex-direction:column; height:auto; min-height:100vh }
  .container__left,.container__right{ width:100% }
}

/* ============================
   MODO MOBILE (apenas <= 880px)
   Não altera o desktop.
   ============================ */
@media (max-width: 880px) {
  :root{
    /* tamanhos “seguros” pro toque */
    --hand-h: clamp(84px, 15vh, 120px);
    --slot-w: clamp(70px, 11vh, 96px);
    --versus-icon: clamp(36px, 5vh, 56px);
    --lane-gap: 10px;
  }

  /* Layout vira coluna, mantendo o visual */
  .container{
    flex-direction: column;
    height: auto;
    min-height: 100vh;
    overflow: hidden;
  }

  /* Painel esquerdo ocupa largura inteira */
  .container__left{
    width: 100%;
    min-width: 0;
    padding: 10px;
    gap: 10px;
  }
  .score_box{
    padding: 10px 12px;
    font-size: 12px;
  }
  .card_details{
    font-size: 12px;
  }

  /* Área de jogo embaixo */
  .container__right{
    width: 100%;
    padding: 10px;
    gap: 10px;
    min-height: 60vh;
  }

  /* Hand do computador (topo) menor e centralizada */
  #computer-cards{
    display: flex;
    justify-content: center;
    gap: 8px;
  }

  /* Arena versus com mais respiro pro toque */
  .card-versus__container{
    padding-block: 6px;
  }
  .card-infield{
    width: 6.8rem;           /* antes: 8rem */
    height: 9.6rem;          /* antes: 11.2rem */
    box-shadow: inset 0 0 0 2px rgba(255,255,255,.75);
  }

  /* Hand do player fixa no rodapé, com cartas clicáveis */
  #player-cards{
    display: flex;
    justify-content: center;
    gap: 10px;
    padding-inline: 6px;
  }
  .card{
    min-width: 56px;
    min-height: 78px;
  }

  /* Botão de ajuda mais “tocável” */
  #btn-help{
    width: 44px;
    height: 44px;
    right: 10px;
    top: 10px;
  }

  /* Modal ocupa mais largura e texto adapta */
  .modal{
    width: min(96vw, 520px);
  }
  .modal h2{
    font-size: clamp(18px, 4.8vw, 24px);
  }
  .modal p,
  .modal .desc,
  .modal .rules li{
    font-size: clamp(12px, 3.8vw, 14px);
  }
}

/* Telas bem pequenas */
@media (max-width: 360px){
  :root{
    --slot-w: 64px;
    --versus-icon: 32px;
  }
  .card-infield{
    width: 6.2rem;
    height: 8.8rem;
  }
}
